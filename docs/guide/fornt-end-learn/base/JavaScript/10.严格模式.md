---
title: 10.严格模式
---
# 10.严格模式

## 1.严格模式的概念

JavaScript 除了正常模式外，提供了严格模式(strict mode)。

ES5的严格模式是采用具有限制性 JavaScript变体的一种方式，即在严格的条件下运行JS代码

严格模式在IE10以上版本的浏览器中才会被支持，旧版本浏览器中会被忽略

严格模式对正常的JavaScript语义做了一些更改：

1. 消除了JavaScript语法的一些不合理、不严谨之处，减少了一些怪异行为
2. 消除代码运行的一些不安全之处，保证代码运行的安全
3. 提高编译器效率，增加运行速度
4. 禁用了ECMAScript的未来版本中可能会定义的一些语法，为未来新版本的JavaScript做好铺垫。比如：class，enum，export，extends，import，super不可以作为变量名

## 2.开启严格模式

严格模式可以应用到整个脚本或个别函数之中，因此在使用时，可以将严格模式分为：

1. 为脚本开启严格模式
2. 为函数开启严格模式



### 2.1 为脚本开启严格模式

为整个脚本文件开启严格模式，需要在所有语句之前放一个特定语句 "use strict " ;

```javascript
"user strict" ;
// 'user strict' ;
```

### 2.2 为函数开启严格模式

要给某个函数开启严格模式，需要把 这句语句 放在函数体中所有语句之前

```javascript
function fn() {
	'user strict';
}
```



## 3.严格模式中的变化

### 3.1变量规定

1. 在正常模式中，如果一个变量没有声明就赋值，默认是全局变量。严格模式禁止这种用法，变量都必须先用var命令声明，然后再使用
2. 严禁删除已经声明过的变量，比如：delete x; 是错误的

### 3.2 this指向问题

1. 在没有使用严格模式的情况下，全局作用域函数的this指向window；严格模式下的this指向是 undefined
2. 在正常模式下，不加new也可以调用构造函数，当作普通函数，this指向全局对象 ； 严格模式下this指向是undefined
3. new 实例化的构造函数指向创建的对象实例
4. 定时器指向的还是window

### 3.3 函数变化

1. 函数中不能有重名的参数(也就是说……我第一次知道正常模式下能重名)
2. 函数必须声明在顶层，新版本的JavaScript会引入“块级作用域”(ES6已引入)。为了与新版本接轨，不允许在非函数的代码块内声明函数